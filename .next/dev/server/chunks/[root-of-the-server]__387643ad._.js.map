{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///home/ensi/Projects/Prac/app/api/students/route.ts"],"sourcesContent":["import { neon } from '@neondatabase/serverless'\n\nconst sql = process.env.DATABASE_URL ? neon(process.env.DATABASE_URL) : null\n\nexport async function GET() {\n  try {\n    if (!sql || !process.env.DATABASE_URL) {\n      return Response.json(\n        { error: 'Database not configured. Please add DATABASE_URL environment variable.' },\n        { status: 503 }\n      )\n    }\n\n    const result = await sql`SELECT * FROM students ORDER BY name`\n    return Response.json(result)\n  } catch (error) {\n    console.error('[v0] Students fetch error:', error)\n    return Response.json({ error: 'Failed to fetch students' }, { status: 500 })\n  }\n}\n\nexport async function POST(request: Request) {\n  try {\n    if (!sql || !process.env.DATABASE_URL) {\n      return Response.json(\n        { error: 'Database not configured.' },\n        { status: 503 }\n      )\n    }\n\n    const body = await request.json()\n    const { name, email, phone, status } = body\n\n    const result = await sql`\n      INSERT INTO students (name, email, phone, status) \n      VALUES (${name}, ${email}, ${phone}, ${status}) \n      RETURNING *\n    `\n    return Response.json(result[0], { status: 201 })\n  } catch (error) {\n    console.error('[v0] Student create error:', error)\n    return Response.json({ error: 'Failed to create student' }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;;;AAAA;;AAEA,MAAM,MAAM,QAAQ,GAAG,CAAC,YAAY,GAAG,IAAA,wKAAI,EAAC,QAAQ,GAAG,CAAC,YAAY,IAAI;AAEjE,eAAe;IACpB,IAAI;QACF,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,YAAY,EAAE;YACrC,OAAO,SAAS,IAAI,CAClB;gBAAE,OAAO;YAAyE,GAClF;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,SAAS,MAAM,GAAG,CAAC,oCAAoC,CAAC;QAC9D,OAAO,SAAS,IAAI,CAAC;IACvB,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAC5E;AACF;AAEO,eAAe,KAAK,OAAgB;IACzC,IAAI;QACF,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,YAAY,EAAE;YACrC,OAAO,SAAS,IAAI,CAClB;gBAAE,OAAO;YAA2B,GACpC;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,OAAO,MAAM,QAAQ,IAAI;QAC/B,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,KAAK,EAAE,MAAM,EAAE,GAAG;QAEvC,MAAM,SAAS,MAAM,GAAG,CAAC;;cAEf,EAAE,KAAK,EAAE,EAAE,MAAM,EAAE,EAAE,MAAM,EAAE,EAAE,OAAO;;IAEhD,CAAC;QACD,OAAO,SAAS,IAAI,CAAC,MAAM,CAAC,EAAE,EAAE;YAAE,QAAQ;QAAI;IAChD,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,8BAA8B;QAC5C,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO;QAA2B,GAAG;YAAE,QAAQ;QAAI;IAC5E;AACF"}}]
}