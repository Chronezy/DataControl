{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/ensi/Projects/Prac/components/student-manager.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Trash2, Plus, X } from 'lucide-react'\n\ninterface Student {\n  id: number\n  name: string\n  email: string\n  phone: string\n  status: string\n  enrollment_date: string\n}\n\ninterface StudentManagerProps {\n  onUpdate: () => void\n}\n\nexport function StudentManager({ onUpdate }: StudentManagerProps) {\n  const [students, setStudents] = useState<Student[]>([])\n  const [showForm, setShowForm] = useState(false)\n  const [formData, setFormData] = useState({ name: '', email: '', phone: '', status: 'active' })\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    fetchStudents()\n  }, [])\n\n  async function fetchStudents() {\n    try {\n      const res = await fetch('/api/students')\n      const data = await res.json()\n      setStudents(data)\n    } catch (error) {\n      console.error('Failed to fetch students:', error)\n    }\n  }\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault()\n    setLoading(true)\n    try {\n      const res = await fetch('/api/students', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData)\n      })\n      if (res.ok) {\n        setFormData({ name: '', email: '', phone: '', status: 'active' })\n        setShowForm(false)\n        await fetchStudents()\n        onUpdate()\n      }\n    } catch (error) {\n      console.error('Failed to add student:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  async function handleDelete(id: number) {\n    if (confirm('Удалить студента?')) {\n      try {\n        const res = await fetch(`/api/students/${id}`, { method: 'DELETE' })\n        if (res.ok) {\n          await fetchStudents()\n          onUpdate()\n        }\n      } catch (error) {\n        console.error('Failed to delete student:', error)\n      }\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-bold text-white\">Студенты</h2>\n        <button\n          onClick={() => setShowForm(!showForm)}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\"\n        >\n          <Plus className=\"w-4 h-4\" />\n          Добавить студента\n        </button>\n      </div>\n\n      {showForm && (\n        <form onSubmit={handleSubmit} className=\"bg-slate-800 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-white\">Новый студент</h3>\n            <button type=\"button\" onClick={() => setShowForm(false)}>\n              <X className=\"w-5 h-5 text-slate-400\" />\n            </button>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n            <input\n              type=\"text\"\n              placeholder=\"ФИО\"\n              value={formData.name}\n              onChange={e => setFormData({ ...formData, name: e.target.value })}\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n              required\n            />\n            <input\n              type=\"email\"\n              placeholder=\"Email\"\n              value={formData.email}\n              onChange={e => setFormData({ ...formData, email: e.target.value })}\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n              required\n            />\n            <input\n              type=\"tel\"\n              placeholder=\"Телефон\"\n              value={formData.phone}\n              onChange={e => setFormData({ ...formData, phone: e.target.value })}\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n            />\n            <select\n              value={formData.status}\n              onChange={e => setFormData({ ...formData, status: e.target.value })}\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n            >\n              <option value=\"active\">Активный</option>\n              <option value=\"inactive\">Неактивный</option>\n              <option value=\"graduated\">Выпускник</option>\n            </select>\n          </div>\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors disabled:opacity-50\"\n          >\n            {loading ? 'Добавление...' : 'Добавить'}\n          </button>\n        </form>\n      )}\n\n      <div className=\"grid gap-4\">\n        {students.length === 0 ? (\n          <p className=\"text-slate-400 text-center py-8\">Нет студентов в системе</p>\n        ) : (\n          students.map(student => (\n            <div key={student.id} className=\"bg-slate-800 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-all\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <h3 className=\"text-white font-semibold\">{student.name}</h3>\n                <button\n                  onClick={() => handleDelete(student.id)}\n                  className=\"text-red-400 hover:text-red-300 transition-colors\"\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                </button>\n              </div>\n              <div className=\"grid grid-cols-2 gap-2 text-sm text-slate-400\">\n                <div>Email: {student.email}</div>\n                <div>Телефон: {student.phone || 'N/A'}</div>\n                <div>Статус: <span className={`px-2 py-1 rounded text-xs ${student.status === 'active' ? 'bg-green-500/20 text-green-300' : student.status === 'graduated' ? 'bg-blue-500/20 text-blue-300' : 'bg-gray-500/20 text-gray-300'}`}>{student.status}</span></div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 375, "column": 0}, "map": {"version":3,"sources":["file:///home/ensi/Projects/Prac/components/course-manager.tsx"],"sourcesContent":["\"use client\";\n\nimport { useEffect, useState } from \"react\";\nimport { Trash2, Plus, X } from \"lucide-react\";\n\ninterface Course {\n  id: number;\n  code: string;\n  title: string;\n  instructor: string;\n  credits: number;\n  max_students: number;\n  start_date: string;\n  end_date: string;\n}\n\ninterface CourseManagerProps {\n  onUpdate: () => void;\n}\n\nexport function CourseManager({ onUpdate }: CourseManagerProps) {\n  const [courses, setCourses] = useState<Course[]>([]);\n  const [showForm, setShowForm] = useState(false);\n  const [formData, setFormData] = useState({\n    code: \"\",\n    title: \"\",\n    instructor: \"\",\n    credits: 3,\n    max_students: 25,\n    start_date: \"\",\n    end_date: \"\",\n  });\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    fetchCourses();\n  }, []);\n\n  async function fetchCourses() {\n    try {\n      const res = await fetch(\"/api/courses\");\n      const data = await res.json();\n      setCourses(data);\n    } catch (error) {\n      console.error(\"Failed to fetch courses:\", error);\n    }\n  }\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault();\n    setLoading(true);\n    try {\n      const res = await fetch(\"/api/courses\", {\n        method: \"POST\",\n        headers: { \"Content-Type\": \"application/json\" },\n        body: JSON.stringify(formData),\n      });\n      if (res.ok) {\n        setFormData({\n          code: \"\",\n          title: \"\",\n          instructor: \"\",\n          credits: 3,\n          max_students: 25,\n          start_date: \"\",\n          end_date: \"\",\n        });\n        setShowForm(false);\n        await fetchCourses();\n        onUpdate();\n      }\n    } catch (error) {\n      console.error(\"Failed to add course:\", error);\n    } finally {\n      setLoading(false);\n    }\n  }\n\n  async function handleDelete(id: number) {\n    if (confirm(\"Удалить курс?\")) {\n      try {\n        const res = await fetch(`/api/courses/${id}`, { method: \"DELETE\" });\n        if (res.ok) {\n          await fetchCourses();\n          onUpdate();\n        }\n      } catch (error) {\n        console.error(\"Failed to delete course:\", error);\n      }\n    }\n  }\n\n  // Функция для обработки числовых полей\n  const handleNumberChange = (\n    field: \"credits\" | \"max_students\",\n    value: string\n  ) => {\n    if (value === \"\") {\n      setFormData((prev) => ({ ...prev, [field]: \"\" }));\n    } else {\n      const numValue = parseInt(value);\n      if (!isNaN(numValue)) {\n        setFormData((prev) => ({ ...prev, [field]: numValue }));\n      }\n    }\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-bold text-white\">Курсы</h2>\n        <button\n          onClick={() => setShowForm(!showForm)}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\"\n        >\n          <Plus className=\"w-4 h-4\" />\n          Добавить курс\n        </button>\n      </div>\n\n      {showForm && (\n        <form\n          onSubmit={handleSubmit}\n          className=\"bg-slate-800 border border-slate-700 rounded-xl p-6\"\n        >\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-white\">Новый курс</h3>\n            <button type=\"button\" onClick={() => setShowForm(false)}>\n              <X className=\"w-5 h-5 text-slate-400\" />\n            </button>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n            <input\n              type=\"text\"\n              placeholder=\"Код курса\"\n              value={formData.code}\n              onChange={(e) =>\n                setFormData({ ...formData, code: e.target.value })\n              }\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n              required\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Название курса\"\n              value={formData.title}\n              onChange={(e) =>\n                setFormData({ ...formData, title: e.target.value })\n              }\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n              required\n            />\n            <input\n              type=\"text\"\n              placeholder=\"Преподаватель\"\n              value={formData.instructor}\n              onChange={(e) =>\n                setFormData({ ...formData, instructor: e.target.value })\n              }\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n              required\n            />\n            <input\n              type=\"number\"\n              placeholder=\"Кредиты\"\n              min=\"1\"\n              value={formData.credits || \"\"}\n              onChange={(e) => handleNumberChange(\"credits\", e.target.value)}\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n              required\n            />\n            <input\n              type=\"number\"\n              placeholder=\"Макс. студентов\"\n              min=\"1\"\n              value={formData.max_students || \"\"}\n              onChange={(e) =>\n                handleNumberChange(\"max_students\", e.target.value)\n              }\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n              required\n            />\n            <input\n              type=\"date\"\n              placeholder=\"Дата начала\"\n              value={formData.start_date}\n              onChange={(e) =>\n                setFormData({ ...formData, start_date: e.target.value })\n              }\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n              required\n            />\n            <input\n              type=\"date\"\n              placeholder=\"Дата окончания\"\n              value={formData.end_date}\n              onChange={(e) =>\n                setFormData({ ...formData, end_date: e.target.value })\n              }\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n              required\n            />\n          </div>\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors disabled:opacity-50\"\n          >\n            {loading ? \"Добавление...\" : \"Добавить\"}\n          </button>\n        </form>\n      )}\n\n      <div className=\"grid gap-4\">\n        {courses.length === 0 ? (\n          <p className=\"text-slate-400 text-center py-8\">\n            Нет курсов в системе\n          </p>\n        ) : (\n          courses.map((course) => (\n            <div\n              key={course.id}\n              className=\"bg-slate-800 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-all\"\n            >\n              <div className=\"flex items-center justify-between mb-2\">\n                <div>\n                  <h3 className=\"text-white font-semibold\">{course.title}</h3>\n                  <p className=\"text-slate-400 text-sm\">Код: {course.code}</p>\n                </div>\n                <button\n                  onClick={() => handleDelete(course.id)}\n                  className=\"text-red-400 hover:text-red-300 transition-colors\"\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                </button>\n              </div>\n              <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2 text-sm text-slate-400\">\n                <div>Преподаватель: {course.instructor}</div>\n                <div>Кредиты: {course.credits}</div>\n                <div>Мест: {course.max_students}</div>\n                <div>\n                  Начало:{\" \"}\n                  {new Date(course.start_date).toLocaleDateString(\"ru-RU\")}\n                </div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 811, "column": 0}, "map": {"version":3,"sources":["file:///home/ensi/Projects/Prac/components/enrollment-manager.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { Trash2, Plus, X } from 'lucide-react'\n\ninterface Enrollment {\n  id: number\n  student_name: string\n  course_title: string\n  course_code: string\n  grade: string\n  completion_status: string\n  enrollment_date: string\n}\n\ninterface EnrollmentManagerProps {\n  onUpdate: () => void\n}\n\nexport function EnrollmentManager({ onUpdate }: EnrollmentManagerProps) {\n  const [enrollments, setEnrollments] = useState<Enrollment[]>([])\n  const [showForm, setShowForm] = useState(false)\n  const [students, setStudents] = useState<any[]>([])\n  const [courses, setCourses] = useState<any[]>([])\n  const [formData, setFormData] = useState({ student_id: '', course_id: '', grade: '', completion_status: 'enrolled' })\n  const [loading, setLoading] = useState(false)\n\n  useEffect(() => {\n    fetchEnrollments()\n    fetchStudents()\n    fetchCourses()\n  }, [])\n\n  async function fetchEnrollments() {\n    try {\n      const res = await fetch('/api/enrollments')\n      const data = await res.json()\n      setEnrollments(data)\n    } catch (error) {\n      console.error('Failed to fetch enrollments:', error)\n    }\n  }\n\n  async function fetchStudents() {\n    try {\n      const res = await fetch('/api/students')\n      setStudents(await res.json())\n    } catch (error) {\n      console.error('Failed to fetch students:', error)\n    }\n  }\n\n  async function fetchCourses() {\n    try {\n      const res = await fetch('/api/courses')\n      setCourses(await res.json())\n    } catch (error) {\n      console.error('Failed to fetch courses:', error)\n    }\n  }\n\n  async function handleSubmit(e: React.FormEvent) {\n    e.preventDefault()\n    setLoading(true)\n    try {\n      const res = await fetch('/api/enrollments', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify(formData)\n      })\n      if (res.ok) {\n        setFormData({ student_id: '', course_id: '', grade: '', completion_status: 'enrolled' })\n        setShowForm(false)\n        await fetchEnrollments()\n        onUpdate()\n      } else {\n        alert('Студент уже записан на этот курс')\n      }\n    } catch (error) {\n      console.error('Failed to add enrollment:', error)\n    } finally {\n      setLoading(false)\n    }\n  }\n\n  async function handleDelete(id: number) {\n    if (confirm('Удалить запись?')) {\n      try {\n        const res = await fetch(`/api/enrollments/${id}`, { method: 'DELETE' })\n        if (res.ok) {\n          await fetchEnrollments()\n          onUpdate()\n        }\n      } catch (error) {\n        console.error('Failed to delete enrollment:', error)\n      }\n    }\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      <div className=\"flex items-center justify-between\">\n        <h2 className=\"text-2xl font-bold text-white\">Записи на курсы</h2>\n        <button\n          onClick={() => setShowForm(!showForm)}\n          className=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors\"\n        >\n          <Plus className=\"w-4 h-4\" />\n          Добавить запись\n        </button>\n      </div>\n\n      {showForm && (\n        <form onSubmit={handleSubmit} className=\"bg-slate-800 border border-slate-700 rounded-xl p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-semibold text-white\">Новая запись</h3>\n            <button type=\"button\" onClick={() => setShowForm(false)}>\n              <X className=\"w-5 h-5 text-slate-400\" />\n            </button>\n          </div>\n          <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n            <select\n              value={formData.student_id}\n              onChange={e => setFormData({ ...formData, student_id: e.target.value })}\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n              required\n            >\n              <option value=\"\">Выберите студента</option>\n              {students.map(s => (\n                <option key={s.id} value={s.id}>{s.name}</option>\n              ))}\n            </select>\n            <select\n              value={formData.course_id}\n              onChange={e => setFormData({ ...formData, course_id: e.target.value })}\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n              required\n            >\n              <option value=\"\">Выберите курс</option>\n              {courses.map(c => (\n                <option key={c.id} value={c.id}>{c.title}</option>\n              ))}\n            </select>\n            <input\n              type=\"text\"\n              placeholder=\"Оценка (например: A, B+)\"\n              value={formData.grade}\n              onChange={e => setFormData({ ...formData, grade: e.target.value })}\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n            />\n            <select\n              value={formData.completion_status}\n              onChange={e => setFormData({ ...formData, completion_status: e.target.value })}\n              className=\"bg-slate-700 border border-slate-600 text-white rounded-lg px-3 py-2 focus:outline-none focus:border-blue-500\"\n            >\n              <option value=\"enrolled\">Записан</option>\n              <option value=\"completed\">Завершен</option>\n              <option value=\"dropped\">Отклонен</option>\n            </select>\n          </div>\n          <button\n            type=\"submit\"\n            disabled={loading}\n            className=\"bg-blue-600 hover:bg-blue-700 text-white px-6 py-2 rounded-lg transition-colors disabled:opacity-50\"\n          >\n            {loading ? 'Добавление...' : 'Добавить'}\n          </button>\n        </form>\n      )}\n\n      <div className=\"grid gap-4\">\n        {enrollments.length === 0 ? (\n          <p className=\"text-slate-400 text-center py-8\">Нет записей в системе</p>\n        ) : (\n          enrollments.map(enrollment => (\n            <div key={enrollment.id} className=\"bg-slate-800 border border-slate-700 rounded-lg p-4 hover:border-slate-600 transition-all\">\n              <div className=\"flex items-center justify-between mb-2\">\n                <div>\n                  <h3 className=\"text-white font-semibold\">{enrollment.student_name}</h3>\n                  <p className=\"text-slate-400 text-sm\">{enrollment.course_title} ({enrollment.course_code})</p>\n                </div>\n                <button\n                  onClick={() => handleDelete(enrollment.id)}\n                  className=\"text-red-400 hover:text-red-300 transition-colors\"\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                </button>\n              </div>\n              <div className=\"grid grid-cols-3 gap-2 text-sm text-slate-400\">\n                <div>Оценка: {enrollment.grade || 'N/A'}</div>\n                <div>Статус: <span className={`px-2 py-1 rounded text-xs ${enrollment.completion_status === 'enrolled' ? 'bg-yellow-500/20 text-yellow-300' : enrollment.completion_status === 'completed' ? 'bg-green-500/20 text-green-300' : 'bg-red-500/20 text-red-300'}`}>{enrollment.completion_status}</span></div>\n                <div>Дата: {new Date(enrollment.enrollment_date).toLocaleDateString('ru-RU')}</div>\n              </div>\n            </div>\n          ))\n        )}\n      </div>\n    </div>\n  )\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1257, "column": 0}, "map": {"version":3,"sources":["file:///home/ensi/Projects/Prac/components/stats-overview.tsx"],"sourcesContent":["'use client'\n\nimport { BookOpen, Users, Link2 } from 'lucide-react'\n\ninterface StatsOverviewProps {\n  stats: {\n    students: number\n    courses: number\n    enrollments: number\n  }\n}\n\nexport function StatsOverview({ stats }: StatsOverviewProps) {\n  const statCards = [\n    {\n      label: 'Всего студентов',\n      value: stats.students,\n      icon: Users,\n      color: 'from-blue-500 to-blue-600',\n      bgColor: 'bg-blue-500/10'\n    },\n    {\n      label: 'Всего курсов',\n      value: stats.courses,\n      icon: BookOpen,\n      color: 'from-purple-500 to-purple-600',\n      bgColor: 'bg-purple-500/10'\n    },\n    {\n      label: 'Активных записей',\n      value: stats.enrollments,\n      icon: Link2,\n      color: 'from-cyan-500 to-cyan-600',\n      bgColor: 'bg-cyan-500/10'\n    }\n  ]\n\n  return (\n    <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\n      {statCards.map((card, idx) => {\n        const Icon = card.icon\n        return (\n          <div\n            key={idx}\n            className={`${card.bgColor} border border-slate-700 rounded-xl p-6 backdrop-blur-sm hover:border-slate-600 transition-all`}\n          >\n            <div className=\"flex items-start justify-between mb-4\">\n              <div className={`bg-gradient-to-br ${card.color} p-3 rounded-lg`}>\n                <Icon className=\"w-6 h-6 text-white\" />\n              </div>\n            </div>\n            <div className=\"text-slate-400 text-sm font-medium mb-1\">{card.label}</div>\n            <div className=\"text-4xl font-bold text-white\">{card.value}</div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AAAA;AAAA;AAFA;;;AAYO,SAAS,cAAc,EAAE,KAAK,EAAsB;IACzD,MAAM,YAAY;QAChB;YACE,OAAO;YACP,OAAO,MAAM,QAAQ;YACrB,MAAM,qNAAK;YACX,OAAO;YACP,SAAS;QACX;QACA;YACE,OAAO;YACP,OAAO,MAAM,OAAO;YACpB,MAAM,kOAAQ;YACd,OAAO;YACP,SAAS;QACX;QACA;YACE,OAAO;YACP,OAAO,MAAM,WAAW;YACxB,MAAM,yNAAK;YACX,OAAO;YACP,SAAS;QACX;KACD;IAED,qBACE,sPAAC;QAAI,WAAU;kBACZ,UAAU,GAAG,CAAC,CAAC,MAAM;YACpB,MAAM,OAAO,KAAK,IAAI;YACtB,qBACE,sPAAC;gBAEC,WAAW,GAAG,KAAK,OAAO,CAAC,8FAA8F,CAAC;;kCAE1H,sPAAC;wBAAI,WAAU;kCACb,cAAA,sPAAC;4BAAI,WAAW,CAAC,kBAAkB,EAAE,KAAK,KAAK,CAAC,eAAe,CAAC;sCAC9D,cAAA,sPAAC;gCAAK,WAAU;;;;;;;;;;;;;;;;kCAGpB,sPAAC;wBAAI,WAAU;kCAA2C,KAAK,KAAK;;;;;;kCACpE,sPAAC;wBAAI,WAAU;kCAAiC,KAAK,KAAK;;;;;;;eATrD;;;;;QAYX;;;;;;AAGN"}},
    {"offset": {"line": 1353, "column": 0}, "map": {"version":3,"sources":["file:///home/ensi/Projects/Prac/app/page.tsx"],"sourcesContent":["'use client'\n\nimport { useEffect, useState } from 'react'\nimport { StudentManager } from '@/components/student-manager'\nimport { CourseManager } from '@/components/course-manager'\nimport { EnrollmentManager } from '@/components/enrollment-manager'\nimport { StatsOverview } from '@/components/stats-overview'\nimport { BookOpen, Users, GitBranch, AlertCircle } from 'lucide-react'\n\ntype Tab = 'students' | 'courses' | 'enrollments' | 'stats'\n\nexport default function Home() {\n  const [activeTab, setActiveTab] = useState<Tab>('stats')\n  const [stats, setStats] = useState({ students: 0, courses: 0, enrollments: 0 })\n  const [error, setError] = useState<string | null>(null)\n\n  useEffect(() => {\n    fetchStats()\n  }, [])\n\n  async function fetchStats() {\n    try {\n      setError(null)\n      const res = await fetch('/api/stats')\n      const data = await res.json()\n      \n      if (!res.ok) {\n        setError(data.error || 'Failed to fetch stats')\n        return\n      }\n      \n      setStats(data)\n    } catch (error) {\n      console.error('Failed to fetch stats:', error)\n      setError('Failed to connect to server')\n    }\n  }\n\n  return (\n    <main className=\"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900\">\n      {/* Error Banner */}\n      {error && (\n        <div className=\"bg-yellow-900 border-b border-yellow-700 px-4 py-4\">\n          <div className=\"max-w-7xl mx-auto flex items-start gap-3\">\n            <AlertCircle className=\"w-5 h-5 text-yellow-500 mt-0.5 flex-shrink-0\" />\n            <div>\n              <p className=\"text-yellow-100 font-semibold\">Database Configuration Required</p>\n              <p className=\"text-yellow-200 text-sm mt-1\">{error}</p>\n              <p className=\"text-yellow-200 text-sm mt-2\">Please add the DATABASE_URL environment variable in the Vars section of the sidebar.</p>\n            </div>\n          </div>\n        </div>\n      )}\n\n      {/* Header */}\n      <div className=\"border-b border-slate-700 bg-slate-900/50 backdrop-blur-sm sticky top-0 z-10\">\n        <div className=\"max-w-7xl mx-auto px-4 py-6\">\n          <div className=\"flex items-center gap-3 mb-6\">\n            <div className=\"bg-gradient-to-br from-blue-500 to-blue-600 p-2 rounded-lg\">\n              <BookOpen className=\"w-6 h-6 text-white\" />\n            </div>\n            <div>\n              <h1 className=\"text-3xl font-bold text-white\">Система управления данными</h1>\n              <p className=\"text-slate-400 text-sm\">Управление студентами, курсами и записями</p>\n            </div>\n          </div>\n\n          {/* Tab Navigation */}\n          <div className=\"flex gap-2 flex-wrap\">\n            {[\n              { id: 'stats', label: 'Обзор', icon: GitBranch },\n              { id: 'students', label: 'Студенты', icon: Users },\n              { id: 'courses', label: 'Курсы', icon: BookOpen },\n              { id: 'enrollments', label: 'Записи', icon: GitBranch }\n            ].map(tab => {\n              const Icon = tab.icon\n              return (\n                <button\n                  key={tab.id}\n                  onClick={() => setActiveTab(tab.id as Tab)}\n                  className={`flex items-center gap-2 px-4 py-2 rounded-lg transition-all ${\n                    activeTab === tab.id\n                      ? 'bg-blue-600 text-white shadow-lg shadow-blue-500/50'\n                      : 'bg-slate-800 text-slate-300 hover:bg-slate-700'\n                  }`}\n                >\n                  <Icon className=\"w-4 h-4\" />\n                  {tab.label}\n                </button>\n              )\n            })}\n          </div>\n        </div>\n      </div>\n\n      {/* Content */}\n      <div className=\"max-w-7xl mx-auto px-4 py-8\">\n        {activeTab === 'stats' && <StatsOverview stats={stats} />}\n        {activeTab === 'students' && <StudentManager onUpdate={fetchStats} />}\n        {activeTab === 'courses' && <CourseManager onUpdate={fetchStats} />}\n        {activeTab === 'enrollments' && <EnrollmentManager onUpdate={fetchStats} />}\n      </div>\n    </main>\n  )\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAPA;;;;;;;;AAWe,SAAS;IACtB,MAAM,CAAC,WAAW,aAAa,GAAG,IAAA,yNAAQ,EAAM;IAChD,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yNAAQ,EAAC;QAAE,UAAU;QAAG,SAAS;QAAG,aAAa;IAAE;IAC7E,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yNAAQ,EAAgB;IAElD,IAAA,0NAAS,EAAC;QACR;IACF,GAAG,EAAE;IAEL,eAAe;QACb,IAAI;YACF,SAAS;YACT,MAAM,MAAM,MAAM,MAAM;YACxB,MAAM,OAAO,MAAM,IAAI,IAAI;YAE3B,IAAI,CAAC,IAAI,EAAE,EAAE;gBACX,SAAS,KAAK,KAAK,IAAI;gBACvB;YACF;YAEA,SAAS;QACX,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,0BAA0B;YACxC,SAAS;QACX;IACF;IAEA,qBACE,sPAAC;QAAK,WAAU;;YAEb,uBACC,sPAAC;gBAAI,WAAU;0BACb,cAAA,sPAAC;oBAAI,WAAU;;sCACb,sPAAC,2OAAW;4BAAC,WAAU;;;;;;sCACvB,sPAAC;;8CACC,sPAAC;oCAAE,WAAU;8CAAgC;;;;;;8CAC7C,sPAAC;oCAAE,WAAU;8CAAgC;;;;;;8CAC7C,sPAAC;oCAAE,WAAU;8CAA+B;;;;;;;;;;;;;;;;;;;;;;;0BAOpD,sPAAC;gBAAI,WAAU;0BACb,cAAA,sPAAC;oBAAI,WAAU;;sCACb,sPAAC;4BAAI,WAAU;;8CACb,sPAAC;oCAAI,WAAU;8CACb,cAAA,sPAAC,kOAAQ;wCAAC,WAAU;;;;;;;;;;;8CAEtB,sPAAC;;sDACC,sPAAC;4CAAG,WAAU;sDAAgC;;;;;;sDAC9C,sPAAC;4CAAE,WAAU;sDAAyB;;;;;;;;;;;;;;;;;;sCAK1C,sPAAC;4BAAI,WAAU;sCACZ;gCACC;oCAAE,IAAI;oCAAS,OAAO;oCAAS,MAAM,qOAAS;gCAAC;gCAC/C;oCAAE,IAAI;oCAAY,OAAO;oCAAY,MAAM,qNAAK;gCAAC;gCACjD;oCAAE,IAAI;oCAAW,OAAO;oCAAS,MAAM,kOAAQ;gCAAC;gCAChD;oCAAE,IAAI;oCAAe,OAAO;oCAAU,MAAM,qOAAS;gCAAC;6BACvD,CAAC,GAAG,CAAC,CAAA;gCACJ,MAAM,OAAO,IAAI,IAAI;gCACrB,qBACE,sPAAC;oCAEC,SAAS,IAAM,aAAa,IAAI,EAAE;oCAClC,WAAW,CAAC,4DAA4D,EACtE,cAAc,IAAI,EAAE,GAChB,wDACA,kDACJ;;sDAEF,sPAAC;4CAAK,WAAU;;;;;;wCACf,IAAI,KAAK;;mCATL,IAAI,EAAE;;;;;4BAYjB;;;;;;;;;;;;;;;;;0BAMN,sPAAC;gBAAI,WAAU;;oBACZ,cAAc,yBAAW,sPAAC,yJAAa;wBAAC,OAAO;;;;;;oBAC/C,cAAc,4BAAc,sPAAC,2JAAc;wBAAC,UAAU;;;;;;oBACtD,cAAc,2BAAa,sPAAC,yJAAa;wBAAC,UAAU;;;;;;oBACpD,cAAc,+BAAiB,sPAAC,iKAAiB;wBAAC,UAAU;;;;;;;;;;;;;;;;;;AAIrE"}}]
}