{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 40, "column": 0}, "map": {"version":3,"sources":["file:///home/ensi/Projects/Prac/app/api/stats/route.ts"],"sourcesContent":["import { neon } from '@neondatabase/serverless'\n\nconst sql = process.env.DATABASE_URL ? neon(process.env.DATABASE_URL) : null\n\nexport async function GET() {\n  try {\n    if (!sql || !process.env.DATABASE_URL) {\n      return Response.json(\n        { error: 'Database not configured. Please add DATABASE_URL environment variable.' },\n        { status: 503 }\n      )\n    }\n\n    const studentCount = await sql`SELECT COUNT(*) as count FROM students`\n    const courseCount = await sql`SELECT COUNT(*) as count FROM courses`\n    const enrollmentCount = await sql`SELECT COUNT(*) as count FROM enrollments WHERE completion_status = 'enrolled'`\n\n    return Response.json({\n      students: studentCount[0].count,\n      courses: courseCount[0].count,\n      enrollments: enrollmentCount[0].count\n    })\n  } catch (error) {\n    console.error('[v0] Stats fetch error:', error)\n    return Response.json({ error: 'Failed to fetch stats' }, { status: 500 })\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEA,MAAM,MAAM,QAAQ,GAAG,CAAC,YAAY,GAAG,IAAA,wKAAI,EAAC,QAAQ,GAAG,CAAC,YAAY,IAAI;AAEjE,eAAe;IACpB,IAAI;QACF,IAAI,CAAC,OAAO,CAAC,QAAQ,GAAG,CAAC,YAAY,EAAE;YACrC,OAAO,SAAS,IAAI,CAClB;gBAAE,OAAO;YAAyE,GAClF;gBAAE,QAAQ;YAAI;QAElB;QAEA,MAAM,eAAe,MAAM,GAAG,CAAC,sCAAsC,CAAC;QACtE,MAAM,cAAc,MAAM,GAAG,CAAC,qCAAqC,CAAC;QACpE,MAAM,kBAAkB,MAAM,GAAG,CAAC,8EAA8E,CAAC;QAEjH,OAAO,SAAS,IAAI,CAAC;YACnB,UAAU,YAAY,CAAC,EAAE,CAAC,KAAK;YAC/B,SAAS,WAAW,CAAC,EAAE,CAAC,KAAK;YAC7B,aAAa,eAAe,CAAC,EAAE,CAAC,KAAK;QACvC;IACF,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,2BAA2B;QACzC,OAAO,SAAS,IAAI,CAAC;YAAE,OAAO;QAAwB,GAAG;YAAE,QAAQ;QAAI;IACzE;AACF"}}]
}